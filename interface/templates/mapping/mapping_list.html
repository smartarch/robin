{% extends "dashboard/base.html" %}
{% block dashboard %}
    <div class="container-fluid">
        <div class="row">
            <div class="col-1">
                <div class="position-fixed top-50 start-10 translate-middle">
                    <button class="btn btn-primary btn-lg m-5" style="transform: rotate(90deg);" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasScrolling" aria-controls="offcanvasScrolling">
                    Navigate Mappings</button>
                </div>
            </div>

            <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="offcanvasScrolling" aria-labelledby="offcanvasScrollingLabel">
              <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasScrollingLabel">Offcanvas with body scrolling</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
              </div>
              <div class="offcanvas-body">
                 <div class="row shadow-sm p-3 mb-3 bg-body rounded">
                        {% include "mapping/mapping_list/mapping_selector.html" %}
                      </div>

                      <div class="row shadow-sm p-3 mb-3 bg-body rounded">
                          {% include "mapping/mapping_list/list_selector.html" %}
                      </div>
                    {% if mapping.leader == user %}
                        <div class="row shadow-sm p-3 mb-3 bg-body rounded">
                             {% include "mapping/mapping_list/dangerous.html" %}
                        </div>
                    {% endif %}
              </div>
            </div>


            <div class="col-11">
            <div class="row shadow-sm p-3 mb-3 bg-body rounded">
                    <h4 > Add publications to {{ mapping.name }}
                </h4>
                <i class="text-secondary">{{ mapping.description }}</i>
                    <div class="d-flex justify-content-center">
                        <div class="btn-group" role="group" aria-label="Add Publication example">
                            <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#doiModal">
                                Entering DOI</button>
                            {% include "publication/modals/doi.html" %}
                            <button type="button" class="btn btn-outline-primary">Uploading .bib</button>
                            <button type="button" class="btn btn-outline-primary">Copy from other Lists/Mappings</button>
                            <button type="button" class="btn btn-outline-primary">Searching the Web</button>
                        </div>
                    </div>
            </div>
                <hr>
                {% if publication_list.publications.all %}
                    <h5> Found {{publication_list.publications.all|length}} Publications in {{ publication_list.name }}</h5>
                        {% include "mapping/toolbar.html" %}
                        <hr>
                        {% include "publication/publications.html" %}
                    {% else %}
                    <h5> The list is empty. </h5>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}